<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
  <script>

    //배열에 사용하는 메소드로, 배열의 모든 값들을 순환 후 새로운 배열을 반환하기 위해 사용된다.
    //모든 배열 값들을 순환할 수 있다는 장점을 가지고있으며, 배열의 값을 순차적으로 가져와 동작하는 루프문과는 다른 방법으로 사용할 수 있다.

    //특징 : 배열을 사용하는 모든 값을 순환하는 방법 중 가장 간단하다. Higher Order Function이다.

    // map()의 문법
    // Arr.map(callback(current value, index, array), this)
    // 여기서 콜백함수는 세가지 인자를 전달하고 두 번째로 this값을 인자로 받을 수 있다.

    // current value : 현재 반환할 값
    // index(option) : 현재 해당하는 인덱스 값
    // array(option) : 배열에 접근 가능

    // this(option) : 사용할 this 키워드의 값

    //1 간단한 예제
    const nums = [1,2,3];
    const newNumber = nums.map( x => 2*x);
    console.log(newNumber);
    // 결과 : 2,4,6

    //nums의 기존 배열의 값을 특정 값으로 변경하기 위해 많이 쓰인다. 단순하게 반복을 위해서도 쓰임.
    //for문으로도 같은 결과를 낼 수 있지만, map이 훨씬 간결하다.

    //2 배열안에 객체를 가졌을 경우의 예제

    const sites = [
      {id : 1, name : 'web'},
      {id : 2, name : 'is'},
      {id : 3, name : 'free'}
    ]
    // const newSites = sites.map(site => `id : ${site.id} , name : ${site.name}`)
    const newSites = sites.map(site => site['id']+ '-' + site['name']);
    console.log(newSites);
    // 결과값 Stirngs {'1-web','2-is','3-free'}

    // 이처럼 배열의 객체값을 가지는 컬렉션 타입의 데이터를 조작하기 위해서도 map()은 유용하게 사용할 수 있다.

    //3 this를 변경하는 방법
    //위에서 본 것처럼 map()에서 콜백 이외에 this값을 다른 값으로 매핑할 수 있도록 설정할 수 있다.(화살표 함수에서는 상속받은 부모를 반환하기 떄문에 일반 함수선언으로 해야함, 화살표 함수를 쓰면 window를 반환.)

    const myArr = [1,2,3];
    myArr.map(function() {
      console.log(this);
    }, '반환할 this값')
    //결과 : Strings {'반환할 this값'} * 3






  </script>

</body>
</html>